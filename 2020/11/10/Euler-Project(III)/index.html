<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">

<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">


  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Euler-Project,">





  <link rel="alternate" href="/atom.xml" title="B1ank" type="application/atom+xml">






<meta name="description" content="21. Amicable numbersProblem DescriptionLet d(n) be defined as the sum of proper divisors of n (numbers less than n which divide evenly into n).If d(a) = b and d(b) = a, where a ≠ b, then a and b are a">
<meta name="keywords" content="Euler-Project">
<meta property="og:type" content="article">
<meta property="og:title" content="Euler-Project(III)">
<meta property="og:url" content="https://blank-vax.github.io/2020/11/10/Euler-Project(III)/index.html">
<meta property="og:site_name" content="B1ank">
<meta property="og:description" content="21. Amicable numbersProblem DescriptionLet d(n) be defined as the sum of proper divisors of n (numbers less than n which divide evenly into n).If d(a) = b and d(b) = a, where a ≠ b, then a and b are a">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://blank-vax.github.io/2020/11/10/Euler-Project(III)/Euler-Project(III">
<meta property="og:image" content="https://blank-vax.github.io/2020/11/10/Euler-Project(III)/Euler-Project(III">
<meta property="og:image" content="https://blank-vax.github.io/2020/11/10/Euler-Project(III)/Euler-Project(III">
<meta property="og:updated_time" content="2021-07-07T04:08:23.734Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Euler-Project(III)">
<meta name="twitter:description" content="21. Amicable numbersProblem DescriptionLet d(n) be defined as the sum of proper divisors of n (numbers less than n which divide evenly into n).If d(a) = b and d(b) = a, where a ≠ b, then a and b are a">
<meta name="twitter:image" content="https://blank-vax.github.io/2020/11/10/Euler-Project(III)/Euler-Project(III">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blank-vax.github.io/2020/11/10/Euler-Project(III)/">





  <title>Euler-Project(III) | B1ank</title>
  









</head>


<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
	<a href="https://github.com/blank-vax" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">B1ank</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>
            
            日程表
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blank-vax.github.io/2020/11/10/Euler-Project(III)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="B1ank">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/picture.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="B1ank">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Euler-Project(III)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-11-10T00:20:00+08:00">
                2020-11-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mathematics/" itemprop="url" rel="index">
                    <span itemprop="name">Mathematics</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/11/10/Euler-Project(III)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/11/10/Euler-Project(III)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/11/10/Euler-Project(III)/" class="leancloud_visitors" data-flag-title="Euler-Project(III)">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
                 <span>℃<span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  3,725
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  20
                </span>
              
            </div>
          

          

        </span></span></div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="21-Amicable-numbers"><a href="#21-Amicable-numbers" class="headerlink" title="21. Amicable numbers"></a>21. Amicable numbers</h2><h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Let d(<em>n</em>) be defined as the sum of proper divisors of <em>n</em> (numbers less than <em>n</em> which divide evenly into <em>n</em>).<br>If d(<em>a</em>) = <em>b</em> and d(<em>b</em>) = <em>a</em>, where <em>a</em> ≠ <em>b</em>, then <em>a</em> and <em>b</em> are an amicable pair and each of <em>a</em> and <em>b</em> are called amicable numbers.</p>
<p>For example, the proper divisors of 220 are 1, 2, 4, 5, 10, 11, 20, 22, 44, 55 and 110; therefore d(220) = 284. The proper divisors of 284 are 1, 2, 4, 71 and 142; so d(284) = 220.</p>
<p>Evaluate the sum of all the amicable numbers under 10000.</p>
<h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1"></a>Solution1</h3><p>根据题目抓住关键点：</p>
<ul>
<li>本题需要统计满足<code>d(a) == b and d(b) == a, while a != b</code>条件的数字对(a, b) ，故需要关注<code>d(a) == a</code>的情况；</li>
<li>统计因子之和的函数中，引入set数据结构，在结果中排除重复添加的情况，最后加上1。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSumOfDivisors</span><span class="params">(input_number)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> input_number == <span class="number">1</span> <span class="keyword">or</span> input_number == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    important_set = set()</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> range(<span class="number">2</span>, int(input_number/<span class="number">2</span>)):</span><br><span class="line">        <span class="keyword">if</span> input_number % item == <span class="number">0</span>:</span><br><span class="line">            important_set.add(item)</span><br><span class="line">            important_set.add(input_number/item)</span><br><span class="line">    <span class="keyword">return</span> sum(important_set)+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    blank_list = []</span><br><span class="line">    <span class="keyword">for</span> index_number <span class="keyword">in</span> xrange(<span class="number">10000</span>):</span><br><span class="line">        <span class="keyword">if</span> index_number <span class="keyword">in</span> blank_list:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        tmp_result = getSumOfDivisors(index_number)</span><br><span class="line">        <span class="keyword">if</span> tmp_result == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> (index_number == getSumOfDivisors(tmp_result)) <span class="keyword">and</span> (index_number != tmp_result) :</span><br><span class="line">            blank_list.append(tmp_result)</span><br><span class="line">            blank_list.append(index_number)</span><br><span class="line">    <span class="keyword">print</span> sum(blank_list)</span><br></pre></td></tr></table></figure>
<h3 id="Solution2"><a href="#Solution2" class="headerlink" title="Solution2"></a>Solution2</h3><p>从第十题的分析可以看出，任何一个数字都可以表示成素数幂乘积的形式。下面对素数幂的因子之和进行推导分析：</p>
<p>设p为任意素数，由于素数只包含1和其本身两个因子，则：$\sigma(p) = p + 1$；</p>
<p>考虑p的a次幂，$\sigma(p^{a}) = 1 + p + p^{2} + p^{3} + … + p^{a}$ (1)；</p>
<p>式子(1)两侧同乘p，有$p*\sigma(p^{a}) = p + p^{2} + p^{3} + p^{4} + … + p^{a+1} (2)$;</p>
<p>(2) - (1)得，$p<em>\sigma(p^{a}) - \sigma(p^{a}) = (p-1) </em> \sigma(p^{a}) = p^{a+1} - 1$；</p>
<p>因此$\sigma(p^{a}) = (p^{a+1} - 1) / (p - 1)$</p>
<p>使用该公式并结合数字的素数幂分解即可较快求出因子之和，代码实现如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SumOfDivisors</span><span class="params">(n)</span>:</span></span><br><span class="line">    sum_result = <span class="number">1</span></span><br><span class="line">    p = <span class="number">2</span></span><br><span class="line">    <span class="comment"># Prevents from checking prime factors greater than sqrt(n).</span></span><br><span class="line">    <span class="keyword">while</span> p**<span class="number">2</span> &lt;= n <span class="keyword">and</span> n &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> n % p == <span class="number">0</span>:</span><br><span class="line">            j = p**<span class="number">2</span></span><br><span class="line">            n /= p</span><br><span class="line">            <span class="keyword">while</span> n % p == <span class="number">0</span>:</span><br><span class="line">                j *= p</span><br><span class="line">                n /= p</span><br><span class="line">            sum_result *= (j<span class="number">-1</span>)</span><br><span class="line">            sum_result /= (p<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">if</span> p == <span class="number">2</span>:</span><br><span class="line">            p = <span class="number">3</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            p += <span class="number">2</span></span><br><span class="line">    <span class="comment"># Covers the case that one prime factor greater than sqrt(n) remains.</span></span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">1</span>:</span><br><span class="line">        sum_result *= (n+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> sum_result</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SumOfProperDivisors</span><span class="params">(input_number)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> SumOfDivisors(input_number) - input_number</span><br></pre></td></tr></table></figure>
<p>与解法一对比，该方法将运算时间 从3s降低到0.3s。</p>
<h2 id="22-Names-score"><a href="#22-Names-score" class="headerlink" title="22. Names score"></a>22. Names score</h2><h3 id="Problem-Description-1"><a href="#Problem-Description-1" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Using <a href="https://projecteuler.net/project/resources/p022_names.txt" target="_blank" rel="noopener">names.txt</a> (right click and ‘Save Link/Target As…’), a 46K text file containing over five-thousand first names, begin by sorting it into alphabetical order. Then working out the alphabetical value for each name, multiply this value by its alphabetical position in the list to obtain a name score.</p>
<p>For example, when the list is sorted into alphabetical order, COLIN, which is worth 3 + 15 + 12 + 9 + 14 = 53, is the 938th name in the list. So, COLIN would obtain a score of 938 × 53 = 49714.</p>
<p>What is the total of all the name scores in the file?</p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Count the total scores of names</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SortContentAsAlphabeticalPosition</span><span class="params">(txtlocation)</span>:</span></span><br><span class="line">    file = open(txtlocation, <span class="string">"r"</span>)</span><br><span class="line">    content_string = file.read()</span><br><span class="line">    content_list = content_string.replace(<span class="string">"\""</span>, <span class="string">""</span>).split(<span class="string">","</span>)</span><br><span class="line">    <span class="keyword">return</span> sorted(content_list)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetWordScore</span><span class="params">(input_word)</span>:</span></span><br><span class="line">    word_Score = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> input_word:</span><br><span class="line">        word_Score += ord(item) - <span class="number">65</span> + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> word_Score</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">CountTotalScore</span><span class="params">(content_list)</span>:</span></span><br><span class="line">    total_score = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> xrange(len(content_list)):</span><br><span class="line">        total_score += GetWordScore(content_list[index]) * (index+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> total_score</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    txt_location = given_txt_path</span><br><span class="line">    Sorted_list = SortContentAsAlphabeticalPosition(txt_location)</span><br><span class="line">    total_score = CountTotalScore(Sorted_list)</span><br><span class="line">    <span class="keyword">print</span> total_score</span><br></pre></td></tr></table></figure>
<h2 id="23-Non-abundant-sums"><a href="#23-Non-abundant-sums" class="headerlink" title="23. Non-abundant sums"></a>23. Non-abundant sums</h2><h3 id="Problem-Description-2"><a href="#Problem-Description-2" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>A perfect number is a number for which the sum of its proper divisors is exactly equal to the number. For example, the sum of the proper divisors of 28 would be 1 + 2 + 4 + 7 + 14 = 28, which means that 28 is a perfect number.</p>
<p>A number n is called deficient if the sum of its proper divisors is less than n and it is called abundant if this sum exceeds n.</p>
<p>As 12 is the smallest abundant number, 1 + 2 + 3 + 4 + 6 = 16, the smallest number that can be written as the sum of two abundant numbers is 24. By mathematical analysis, it can be shown that all integers greater than 28123 can be written as the sum of two abundant numbers. However, this upper limit cannot be reduced any further by analysis even though it is known that the greatest number that cannot be expressed as the sum of two abundant numbers is less than this limit.</p>
<p>Find the sum of all the positive integers which cannot be written as the sum of two abundant numbers.</p>
<h3 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Find the sum of all the positive integers which cannot be written as the sum of two abundant numbers</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SumOfDivisors</span><span class="params">(n)</span>:</span></span><br><span class="line">    sum_result = <span class="number">1</span></span><br><span class="line">    p = <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> p**<span class="number">2</span> &lt;= n <span class="keyword">and</span> n &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> n % p == <span class="number">0</span>:</span><br><span class="line">            j = p**<span class="number">2</span></span><br><span class="line">            n /= p</span><br><span class="line">            <span class="keyword">while</span> n % p == <span class="number">0</span>:</span><br><span class="line">                j *= p</span><br><span class="line">                n /= p</span><br><span class="line">            sum_result *= (j<span class="number">-1</span>)</span><br><span class="line">            sum_result /= (p<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">if</span> p == <span class="number">2</span>:</span><br><span class="line">            p = <span class="number">3</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            p += <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">1</span>:</span><br><span class="line">        sum_result *= (n+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> sum_result</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SumOfProperDivisors</span><span class="params">(input_number)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> SumOfDivisors(input_number) - input_number</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    final_sum = <span class="number">28123</span>*<span class="number">28124</span>/<span class="number">2</span></span><br><span class="line">    least_abundant_number = <span class="number">12</span></span><br><span class="line">    possible_abundant_number_list = []</span><br><span class="line">    <span class="keyword">while</span> least_abundant_number &lt;= <span class="number">28123</span>:</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> possible_abundant_number_list:</span><br><span class="line">            <span class="keyword">if</span> least_abundant_number - item <span class="keyword">in</span> possible_abundant_number_list:</span><br><span class="line">                final_sum -= least_abundant_number</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> SumOfProperDivisors(least_abundant_number) &gt; least_abundant_number:</span><br><span class="line">            possible_abundant_number_list.append(least_abundant_number)</span><br><span class="line">        least_abundant_number += <span class="number">1</span></span><br><span class="line">    <span class="keyword">print</span> final_sum</span><br></pre></td></tr></table></figure>
<p>使用上述暴力遍历的方法统计结果需要的时间较长，大概为160-180s左右。</p>
<h2 id="24-Lexicographic-permutations"><a href="#24-Lexicographic-permutations" class="headerlink" title="24. Lexicographic permutations"></a>24. Lexicographic permutations</h2><h3 id="Problem-Description-3"><a href="#Problem-Description-3" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>A permutation is an ordered arrangement of objects. For example, 3124 is one possible permutation of the digits 1, 2, 3 and 4. If all of the permutations are listed numerically or alphabetically, we call it lexicographic order. The lexicographic permutations of 0, 1 and 2 are:</p>
<p>012  021  102  120  201  210</p>
<p>What is the millionth lexicographic permutation of the digits 0, 1, 2, 3, 4, 5, 6, 7, 8 and 9?</p>
<h3 id="Solution-2"><a href="#Solution-2" class="headerlink" title="Solution"></a>Solution</h3><p>偷懒调用了python的itertools库，其中包含<code>permutations()</code>即排列函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># What is the millionth lexicographic permutation of the digits 0, 1, 2, 3, 4, 5, 6, 7, 8 and 9</span></span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    result_string = <span class="string">""</span></span><br><span class="line">    result_list = list(permutations(<span class="string">'0123456789'</span>))</span><br><span class="line">    final_result = sorted(result_list)[<span class="number">999999</span>]</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> final_result:</span><br><span class="line">        result_string += item</span><br><span class="line">    <span class="keyword">print</span> eval(result_string)</span><br></pre></td></tr></table></figure>
<h2 id="25-1000-digit-Fibonacci-number"><a href="#25-1000-digit-Fibonacci-number" class="headerlink" title="25. 1000-digit Fibonacci number"></a>25. 1000-digit Fibonacci number</h2><h3 id="Problem-Description-4"><a href="#Problem-Description-4" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>The Fibonacci sequence is defined by the recurrence relation:</p>
<script type="math/tex; mode=display">F_{n} = F_{n−1} + F_{n−2}, where F_{1} = 1 and F_{2} = 1</script><p>Hence the first 12 terms will be:</p>
<script type="math/tex; mode=display">F_{1} = 1</script><script type="math/tex; mode=display">F_{2} = 1</script><script type="math/tex; mode=display">F_{3} = 2</script><script type="math/tex; mode=display">F_{4} = 3</script><script type="math/tex; mode=display">F_{5} = 5</script><script type="math/tex; mode=display">F_{6} = 8</script><script type="math/tex; mode=display">F_{7} = 13</script><script type="math/tex; mode=display">F_{8} = 21</script><script type="math/tex; mode=display">F_{9} = 34</script><script type="math/tex; mode=display">F_{10} = 55</script><script type="math/tex; mode=display">F_{11} = 89</script><script type="math/tex; mode=display">F_{12} = 144</script><p>The 12th term, $F_{12}$, is the first term to contain three digits.</p>
<p>What is the index of the first term in the Fibonacci sequence to contain 1000 digits?</p>
<h3 id="Solution-3"><a href="#Solution-3" class="headerlink" title="Solution"></a>Solution</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># What is the index of the first term in the Fibonacci sequence to contain 1000 digits</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetIndexOfFibonacci</span><span class="params">()</span>:</span></span><br><span class="line">    f = <span class="number">1</span></span><br><span class="line">    g = <span class="number">1</span></span><br><span class="line">    g_count = <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> len(str(g)) &lt; <span class="number">1000</span>:</span><br><span class="line">        f, g = g, f+g</span><br><span class="line">        g_count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> g_count</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    final_result = GetIndexOfFibonacci()</span><br><span class="line">    <span class="keyword">print</span> final_result</span><br></pre></td></tr></table></figure>
<h2 id="26-Reciprocal-cycles"><a href="#26-Reciprocal-cycles" class="headerlink" title="26. Reciprocal cycles"></a>26. Reciprocal cycles</h2><h3 id="Problem-Description-5"><a href="#Problem-Description-5" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>A unit fraction contains 1 in the numerator. The decimal representation of the unit fractions with denominators 2 to 10 are given:</p>
<blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>1/2</th>
<th>=</th>
<th>0.5</th>
</tr>
</thead>
<tbody>
<tr>
<td>1/3</td>
<td>=</td>
<td>0.(3)</td>
</tr>
<tr>
<td>1/4</td>
<td>=</td>
<td>0.25</td>
</tr>
<tr>
<td>1/5</td>
<td>=</td>
<td>0.2</td>
</tr>
<tr>
<td>1/6</td>
<td>=</td>
<td>0.1(6)</td>
</tr>
<tr>
<td>1/7</td>
<td>=</td>
<td>0.(142857)</td>
</tr>
<tr>
<td>1/8</td>
<td>=</td>
<td>0.125</td>
</tr>
<tr>
<td>1/9</td>
<td>=</td>
<td>0.(1)</td>
</tr>
<tr>
<td>1/10</td>
<td>=</td>
<td>0.1</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
<p>Where 0.1(6) means 0.166666…, and has a 1-digit recurring cycle. It can be seen that 1/7 has a 6-digit recurring cycle.</p>
<p>Find the value of <em>d</em> &lt; 1000 for which 1/<em>d</em> contains the longest recurring cycle in its decimal fraction part.</p>
<h3 id="Solution-4"><a href="#Solution-4" class="headerlink" title="Solution"></a>Solution</h3><p>本题为经典的循环节计算问题。</p>
<p>设分母为n，若n为合数，则必可以表示成多个素数的乘积，其循环节与这些分解素数中最大的循环节保持一致。故只需要讨论所给范围内所有素数分母其倒数的循环节即可。值得注意的是，1/2与1/5都是有限小数，故2和5这两个素数需要排除。</p>
<p>确定循环的范围后下面进行循环节计算：通过查阅资料可知，循环节问题可以等价为大整数分解问题。给定大整数n，求使得$10^{k} \equiv 1 (mod n)$成立的最小的k，该数值即为1/n循环节的长度。根据以上分析采取<code>10**k-1 % n == 0</code>作为限制条件求解。代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Find the value of d &lt; 1000 for which 1/d contains the longest recurring cycle in its decimal fraction part</span></span><br><span class="line"><span class="comment"># Brute force to find the longest recurring cycle</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="comment"># Judge whether n is prime</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isPrime</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, int(math.sqrt(n))+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetRecurringCycle</span><span class="params">(input_number)</span>:</span></span><br><span class="line">    L = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">10</span>**L<span class="number">-1</span>) % input_number == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        L += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> L</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    max_recurring_length = <span class="number">1</span></span><br><span class="line">    result_n = <span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">1001</span>):</span><br><span class="line">        <span class="keyword">if</span> isPrime(i) <span class="keyword">and</span> i != <span class="number">2</span> <span class="keyword">and</span> i != <span class="number">5</span>:</span><br><span class="line">            recurring_length = GetRecurringCycle(i)</span><br><span class="line">            <span class="keyword">if</span> recurring_length &gt; max_recurring_length:</span><br><span class="line">                max_recurring_length = recurring_length</span><br><span class="line">                result_n = i</span><br><span class="line">    <span class="keyword">print</span> (result_n, max_recurring_length)</span><br></pre></td></tr></table></figure>
<h3 id="Mathematical-Analysis"><a href="#Mathematical-Analysis" class="headerlink" title="Mathematical Analysis"></a>Mathematical Analysis</h3><p>考虑上面提到的一般化问题：求最小的k使得$a^{k} \equiv 1(mod n)$，若n与a互素，求出分母n的欧拉函数值$\Phi(n)$，则循环节长度k必为其约数；若n与a存在公因子则无解。由此可见通过暴力遍历的方法可以求出约数k，从而得出循环节。</p>
<p>在RSA加密中，给定n=p<em>q，则p，q均为大质数，此时1/n循环节的长度length为gcd(p-1, q-1)的约数。假定已知length的因数分解$length = l<em>{1}^{c</em>{1}}</em>l<em>{2}^{c</em>{2}}<em>l<em>{3}^{c</em>{3}}</em>……*l<em>{k}^{c</em>{k}}$，则length共有$\prod[c_{i}+1]$个约数。将这些约数分别加上1，若某个约数y(j)加1后是质数，则y(j)+1可能是大整数n的约数。对所有小于$\sqrt{n}-1$的y(j)进行检验，必能找到一个恰好满足y(j)+1 = min(p, q)的数字。通过此种方法可以将大整数分解问题转换为求循环节的问题。在最坏的情况下，一个300位的大整数只需通过小于500次转换完成分解。</p>
<p>关于循环节长度计算公式存在如下改进：</p>
<p><img src="/2020/11/10/Euler-Project(III)/Euler-Project(III" alt="26_recurring_cycle.PNG-34.7kB">\1.PNG)</p>
<p>该公式的应用如下：</p>
<p><img src="/2020/11/10/Euler-Project(III)/Euler-Project(III" alt="26_recurring_cycle2.PNG-47.8kB">\2.PNG)</p>
<p>参考论文：关于循环节长度计算公式的改进：<a href="https://www.ixueshu.com/document/6d924626ac37b4ee318947a18e7f9386.html" target="_blank" rel="noopener">https://www.ixueshu.com/document/6d924626ac37b4ee318947a18e7f9386.html</a></p>
<h2 id="27-Quadratic-primes"><a href="#27-Quadratic-primes" class="headerlink" title="27. Quadratic primes"></a>27. Quadratic primes</h2><h3 id="Problem-Description-6"><a href="#Problem-Description-6" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Euler discovered the remarkable quadratic formula:</p>
<script type="math/tex; mode=display">n^{2} + n + 41</script><p>It turns out that the formula will produce 40 primes for the consecutive integer values 0≤n≤39. However, when$ n=40, 40^{2}+40+41=40*(40+1)+41$ is divisible by 41, and certainly when $ n=41,41^{2}+41+41 $is clearly divisible by 41.</p>
<p>The incredible formula $n^{2}−79*n+1601$ was discovered, which produces 80 primes for the consecutive values 0≤n≤79. The product of the coefficients, −79 and 1601, is −126479.</p>
<p>Considering quadratics of the form:</p>
<script type="math/tex; mode=display">n^{2}+a*n+b , where|a|<1000 , |b|≤1000</script><p>where |n| is the modulus/absolute value of n<br>e.g. |11|=11 and |−4|=4</p>
<p>Find the product of the coefficients, a and b, for the quadratic expression that produces the maximum number of primes for consecutive values of n, starting with n=0.</p>
<h3 id="Solution-5"><a href="#Solution-5" class="headerlink" title="Solution"></a>Solution</h3><p>根据题目，可以仅通过数学推导的方法求解（条件极值问题+二次图像平移），参考链接如下：<a href="https://zhuanlan.zhihu.com/p/62137330。除此之外，还可以按照题意暴力求解，由于本题提供的a" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/62137330。除此之外，还可以按照题意暴力求解，由于本题提供的a</a>, b范围较小，故可以在较短时间内完成计算。根据题目给出的二次多项式$f(n) = n^{2} + a*n + b$可得出以下性质：</p>
<ul>
<li>由f(0) = b可知参数b必为素数，故将b的遍历范围缩小为2—999；</li>
<li>由f(1) = a+b+1且该多项式为素数，可得结论a &gt; -b-1，据此适当缩小a的遍历范围；</li>
<li>当gcd(a, b) = d且d != 1时，一定存在一个数n’ = minP(d)使得f(n’)为合数，其中minP(d)表示d的最小素因子。从而若a, b不互素，最多生成minP(d)个连续素数，从而在遍历过程中排除a, b不互素的情况即可。（需要用到math.gcd()函数且偷懒不想自己构造，故以下代码需选择Python3.5+版本运行）</li>
</ul>
<p>遍历代码具有两个版本，记录如下：</p>
<h4 id="Version1"><a href="#Version1" class="headerlink" title="Version1"></a>Version1</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Find the product of the coefficients,a and b, for the quadratic expression that produces the maximum number of primes for consecutive values of n, starting with n = 0</span></span><br><span class="line"><span class="comment"># Some properties:</span></span><br><span class="line">    <span class="comment"># f(0) = b, so b must be a prime</span></span><br><span class="line">    <span class="comment"># a &gt; -b-1</span></span><br><span class="line">    <span class="comment"># if gcd(a, b) = d and d != 1, we could only get as many as the least prime factor of d continuous primes</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isPrime</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">0</span> <span class="keyword">or</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, int(math.sqrt(n))+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">countPrimes</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    prime_counter = <span class="number">0</span></span><br><span class="line">    n = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> isPrime(n*n+a*n+b):</span><br><span class="line">            prime_counter += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> prime_counter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    result_set = []</span><br><span class="line">    max_result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">-995</span>, <span class="number">999</span>, <span class="number">2</span>):</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">1000</span>):</span><br><span class="line">            <span class="keyword">if</span> isPrime(b) <span class="keyword">and</span> math.gcd(a, b) == <span class="number">1</span>:</span><br><span class="line">                count = countPrimes(a, b)</span><br><span class="line">                <span class="keyword">if</span> count &gt; max_result:</span><br><span class="line">                    max_result = count</span><br><span class="line">                    result_set.append(a*b)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">    print(result_set[<span class="number">-1</span>])</span><br></pre></td></tr></table></figure>
<h4 id="Version2"><a href="#Version2" class="headerlink" title="Version2"></a>Version2</h4><p>引入python中的数学运算库sympy，该库继承多种数学运算，包括大量素数操作的接口：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">isprime(n)              <span class="comment"># Test if n is a prime number (True) or not (False).</span></span><br><span class="line"> </span><br><span class="line">primerange(a, b)        <span class="comment"># Generate a list of all prime numbers in the range [a, b).</span></span><br><span class="line">randprime(a, b)         <span class="comment"># Return a random prime number in the range [a, b).</span></span><br><span class="line">primepi(n)              <span class="comment"># Return the number of prime numbers less than or equal to n.</span></span><br><span class="line"> </span><br><span class="line">prime(nth)              <span class="comment"># Return the nth prime, with the primes indexed as prime(1) = 2. The nth prime is approximately n*log(n) and can never be larger than 2**n.</span></span><br><span class="line">prevprime(n, ith=<span class="number">1</span>)     <span class="comment"># Return the largest prime smaller than n</span></span><br><span class="line">nextprime(n)            <span class="comment"># Return the ith prime greater than n</span></span><br><span class="line"> </span><br><span class="line">sieve.primerange(a, b)  <span class="comment"># Generate all prime numbers in the range [a, b), implemented as a dynamically growing sieve of Eratosthenes.</span></span><br></pre></td></tr></table></figure>
<p>代码如下，其中应用到<code>sympy.isprime()</code>函数进行素数判断，应用<code>sieve.primerange(a, b)</code>函数生成1—1000内的所有素数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sympy</span><br><span class="line"></span><br><span class="line"><span class="comment"># This function is used to collect all the primes between 1 and 1000</span></span><br><span class="line">Prime = list(sympy.sieve.primerange(<span class="number">1</span>, <span class="number">1000</span>))</span><br><span class="line">dic = &#123;&#125;</span><br><span class="line">dic[<span class="string">'n'</span>] = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">-995</span>, <span class="number">999</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> Prime:</span><br><span class="line">        n = <span class="number">0</span></span><br><span class="line">        c = n*n + a*n + b</span><br><span class="line">        <span class="keyword">while</span> sympy.isprime(c):</span><br><span class="line">            n += <span class="number">1</span></span><br><span class="line">            c = n*n + a*n + b</span><br><span class="line">        n -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n &gt; dic[<span class="string">'n'</span>]:</span><br><span class="line">            dic[<span class="string">'n'</span>] = n</span><br><span class="line">            dic[<span class="string">'a*b'</span>] = a*b</span><br><span class="line"><span class="keyword">print</span> dic[<span class="string">'a*b'</span>]</span><br></pre></td></tr></table></figure>
<p>sympy库函数文档：<a href="http://docs.sympy.org/latest/modules/ntheory.html?highlight=prime#ntheory-functions-reference" target="_blank" rel="noopener">http://docs.sympy.org/latest/modules/ntheory.html?highlight=prime#ntheory-functions-reference</a></p>
<h2 id="28-Number-spiral-diagonals"><a href="#28-Number-spiral-diagonals" class="headerlink" title="28. Number spiral diagonals"></a>28. Number spiral diagonals</h2><h3 id="Problem-Description-7"><a href="#Problem-Description-7" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Starting with the number 1 and moving to the right in a clockwise direction a 5 by 5 spiral is formed as follows:</p>
<p><img src="/2020/11/10/Euler-Project(III)/Euler-Project(III" alt="28_problem.PNG-10.2kB">\3.PNG)</p>
<p>It can be verified that the sum of the numbers on the diagonals is 101.</p>
<p>What is the sum of the numbers on the diagonals in a 1001 by 1001 spiral formed in the same way?</p>
<h3 id="Solution-6"><a href="#Solution-6" class="headerlink" title="Solution"></a>Solution</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gridA: 5*5 there are 3 circles</span></span><br><span class="line"><span class="comment"># gridB: 7*7 there are 4 circles</span></span><br><span class="line"><span class="comment"># gridN: N*N there must be (N+1)/2 circles</span></span><br><span class="line"><span class="comment"># Arithmetic progression</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getCircles</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (n+<span class="number">1</span>) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">countSum</span><span class="params">(circle_number)</span>:</span></span><br><span class="line">    final_sum = <span class="number">0</span></span><br><span class="line">    step = <span class="number">2</span></span><br><span class="line">    origin_number = <span class="number">3</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(circle_number<span class="number">-1</span>):</span><br><span class="line">        final_sum += <span class="number">4</span>*origin_number + <span class="number">6</span>*step</span><br><span class="line">        origin_number += <span class="number">4</span>*step + <span class="number">2</span></span><br><span class="line">        step += <span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> final_sum</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    final_result = countSum(getCircles(<span class="number">1001</span>))</span><br><span class="line">    <span class="keyword">print</span> final_result+<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="29-Distinct-powers"><a href="#29-Distinct-powers" class="headerlink" title="29. Distinct powers"></a>29. Distinct powers</h2><h3 id="Problem-Description-8"><a href="#Problem-Description-8" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Consider all integer combinations of $a^{b}$ for 2 ≤ <em>a</em> ≤ 5 and 2 ≤ <em>b</em> ≤ 5:</p>
<script type="math/tex; mode=display">2^{2}=4, 2^{3}=8, 2^{4}=16, 2^{5}=32</script><script type="math/tex; mode=display">3^{2}=9, 3^{3}=27, 3^{4}=81, 3^{5}=243</script><script type="math/tex; mode=display">4^{2}=16, 4^{3}=64, 4^{4}=256, 4^{5}=1024</script><script type="math/tex; mode=display">5^{2}=25, 5^{3}=125, 5^{4}=625, 5^{5}=3125</script><p>If they are then placed in numerical order, with any repeats removed, we get the following sequence of 15 distinct terms:</p>
<p>4, 8, 9, 16, 25, 27, 32, 64, 81, 125, 243, 256, 625, 1024, 3125</p>
<p>How many distinct terms are in the sequence generated by $a^{b}$ for 2 ≤ <em>a</em> ≤ 100 and 2 ≤ <em>b</em> ≤ 100?</p>
<h3 id="Solution-7"><a href="#Solution-7" class="headerlink" title="Solution"></a>Solution</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">final_set = set()</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">101</span>):</span><br><span class="line">	<span class="keyword">for</span> b <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">101</span>):</span><br><span class="line">		tmp_a_b = a**b</span><br><span class="line">        tmp_b_a = b**a</span><br><span class="line">        <span class="keyword">if</span> tmp_a_b <span class="keyword">not</span> <span class="keyword">in</span> final_set:</span><br><span class="line">            final_set.add(tmp_a_b)</span><br><span class="line">        <span class="keyword">if</span> tmp_b_a <span class="keyword">not</span> <span class="keyword">in</span> final_set:</span><br><span class="line">            final_set.add(tmp_b_a)</span><br><span class="line"><span class="keyword">print</span> len(final_set)</span><br></pre></td></tr></table></figure>
<h2 id="30-Digit-fifth-powers"><a href="#30-Digit-fifth-powers" class="headerlink" title="30. Digit fifth powers"></a>30. Digit fifth powers</h2><h3 id="Problem-Description-9"><a href="#Problem-Description-9" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>Surprisingly there are only three numbers that can be written as the sum of fourth powers of their digits:</p>
<script type="math/tex; mode=display">1634 = 1^{4} + 6^{4} + 3^{4} + 4^{4}</script><script type="math/tex; mode=display">8208 = 8^{4} + 2^{4} + 0^{4} + 8^{4}</script><script type="math/tex; mode=display">9474 = 9^{4} + 4^{4} + 7^{4} + 4^{4}</script><p>As$ 1 = 1^{4} $is not a sum it is not included.</p>
<p>The sum of these numbers is 1634 + 8208 + 9474 = 19316.</p>
<p>Find the sum of all the numbers that can be written as the sum of fifth powers of their digits.</p>
<h3 id="Solution-8"><a href="#Solution-8" class="headerlink" title="Solution"></a>Solution</h3><p>该问题的关键为确定枚举的上界：设满足题设条件的数字为n位数，取其每位都为9的情况，构造不等式$ 10^{n} &lt;= 9^{5}*n $，计算满足条件n的最小值即可找出上界。代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Find the sum of all the numbers that can be written as the sum of fifth powers of their powers</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSum</span><span class="params">(input_number)</span>:</span></span><br><span class="line">    sum_result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> input_number != <span class="number">0</span>:</span><br><span class="line">        sum_result += (input_number % <span class="number">10</span>)**<span class="number">5</span></span><br><span class="line">        input_number /= <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> sum_result</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    final_result = <span class="number">0</span></span><br><span class="line">    <span class="comment"># Work out the upper bound of the enumeration range</span></span><br><span class="line">    <span class="comment"># 10^n &lt;= 9^5*n =&gt; we can get the minimum value of n is 5</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">9</span>**<span class="number">5</span>*<span class="number">6</span>):</span><br><span class="line">        <span class="keyword">if</span> item == getSum(item):</span><br><span class="line">            final_result += item</span><br><span class="line">            <span class="keyword">print</span> item</span><br><span class="line">    <span class="keyword">print</span> final_result</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Euler-Project/" rel="tag"><i class="fa fa-tag"></i> Euler-Project</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/10/25/Euler-Project(II)/" rel="next" title="Euler-Project(II)">
                <i class="fa fa-chevron-left"></i> Euler-Project(II)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/11/17/Euler-Project(IV)/" rel="prev" title="Euler-Project(IV)">
                Euler-Project(IV) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_fav">收藏夹</a>
<a class="jiathis_button_copy">复制网址</a>
<a class="jiathis_button_email">邮件</a>
<a class="jiathis_button_weixin">微信</a>
<a class="jiathis_button_qzone">QQ空间</a>
<a class="jiathis_button_tqq">腾讯微博</a>
<a class="jiathis_button_douban">豆瓣</a>
<a class="jiathis_button_share">一键分享</a>

<a href="http://www.jiathis.com/share?uid=2140465" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript">
var jiathis_config={
  data_track_clickback:true,
  summary:"",
  shortUrl:false,
  hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=" charset="utf-8"></script>
<!-- JiaThis Button END -->
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/picture.png" alt="B1ank">
            
              <p class="site-author-name" itemprop="name">B1ank</p>
              <p class="site-description motion-element" itemprop="description">U can be what you wanna B</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">48</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">45</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/blank-vax" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:18682924517@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://lzwgiter.github.io" title="flo@t" target="_blank">flo@t</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://alicerabbit.github.io" title="Compass" target="_blank">Compass</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://k1ng0fic3.github.io" title="k1ng0fic3" target="_blank">k1ng0fic3</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://59lx.github.io" title="rt95" target="_blank">rt95</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#21-Amicable-numbers"><span class="nav-number">1.</span> <span class="nav-text">21. Amicable numbers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description"><span class="nav-number">1.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1"><span class="nav-number">1.2.</span> <span class="nav-text">Solution1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2"><span class="nav-number">1.3.</span> <span class="nav-text">Solution2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-Names-score"><span class="nav-number">2.</span> <span class="nav-text">22. Names score</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-1"><span class="nav-number">2.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution"><span class="nav-number">2.2.</span> <span class="nav-text">Solution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-Non-abundant-sums"><span class="nav-number">3.</span> <span class="nav-text">23. Non-abundant sums</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-2"><span class="nav-number">3.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-1"><span class="nav-number">3.2.</span> <span class="nav-text">Solution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-Lexicographic-permutations"><span class="nav-number">4.</span> <span class="nav-text">24. Lexicographic permutations</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-3"><span class="nav-number">4.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-2"><span class="nav-number">4.2.</span> <span class="nav-text">Solution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-1000-digit-Fibonacci-number"><span class="nav-number">5.</span> <span class="nav-text">25. 1000-digit Fibonacci number</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-4"><span class="nav-number">5.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-3"><span class="nav-number">5.2.</span> <span class="nav-text">Solution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-Reciprocal-cycles"><span class="nav-number">6.</span> <span class="nav-text">26. Reciprocal cycles</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-5"><span class="nav-number">6.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-4"><span class="nav-number">6.2.</span> <span class="nav-text">Solution</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mathematical-Analysis"><span class="nav-number">6.3.</span> <span class="nav-text">Mathematical Analysis</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27-Quadratic-primes"><span class="nav-number">7.</span> <span class="nav-text">27. Quadratic primes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-6"><span class="nav-number">7.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-5"><span class="nav-number">7.2.</span> <span class="nav-text">Solution</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Version1"><span class="nav-number">7.2.1.</span> <span class="nav-text">Version1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Version2"><span class="nav-number">7.2.2.</span> <span class="nav-text">Version2</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-Number-spiral-diagonals"><span class="nav-number">8.</span> <span class="nav-text">28. Number spiral diagonals</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-7"><span class="nav-number">8.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-6"><span class="nav-number">8.2.</span> <span class="nav-text">Solution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29-Distinct-powers"><span class="nav-number">9.</span> <span class="nav-text">29. Distinct powers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-8"><span class="nav-number">9.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-7"><span class="nav-number">9.2.</span> <span class="nav-text">Solution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30-Digit-fifth-powers"><span class="nav-number">10.</span> <span class="nav-text">30. Digit fifth powers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description-9"><span class="nav-number">10.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-8"><span class="nav-number">10.2.</span> <span class="nav-text">Solution</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">B1ank</span>

  
</div>


 <div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  访客数量:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

 <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共153.5k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
   <!-- ҳ����С���� -->
  <script type="text/javascript" src="/js/src/love.js"></script>

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: '9OdpjYSHQirwAMeIVy8C5SBk-gzGzoHsz',
        appKey: 'WoxonMaRanAKt1yVo9JgIS7n',
        placeholder: 'Let's Chat',
        avatar:'/uploads/picture.png',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("YPjXkPpqx6UDV4Qi9FeAtmb7-gzGzoHsz", "ftBBWgvQkPRDCOJfwV7zzsfr");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  


  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
